description = "Generate unit tests for specified code"

prompt = """
# Generate Unit Tests

## Purpose

Generate comprehensive unit tests for the specified code files following project testing conventions.

## Context

- Target files: {{args}}
- Testing framework: Jest/pytest/RSpec (detect from project)
- Project test patterns: tests/ or __tests__/ directory
- Coverage target: 80%+

## Instructions

### Phase 1: Analysis

1. Read and understand the target code
2. Identify functions/methods to test
3. Determine edge cases
4. Review existing test patterns in the project

### Phase 2: Test Generation

For each function/method:

1. **Test happy path**
   - Valid inputs
   - Expected outputs
   - Typical use cases

2. **Test edge cases**
   - Boundary values
   - Empty inputs
   - Large inputs
   - Special characters

3. **Test error conditions**
   - Invalid inputs
   - Null/undefined values
   - Type mismatches
   - Exceptions

4. **Test state changes**
   - Side effects
   - State mutations
   - Database changes
   - API calls (mocked)

### Phase 3: Test Organization

```
tests/
  unit/
    [module-name]/
      [file-name].test.[ext]
```

Follow these principles:

- One test file per source file
- Descriptive test names
- Arrange-Act-Assert pattern
- Independent tests (no interdependencies)
- Fast execution (mock external dependencies)

## Output Format

Create test files with this structure:

```javascript
// For JavaScript/TypeScript

import { functionName } from '../src/module';

describe('functionName', () => {
  describe('when given valid input', () => {
    it('should return expected result', () => {
      // Arrange
      const input = 'test';
      
      // Act
      const result = functionName(input);
      
      // Assert
      expect(result).toBe('expected');
    });
  });
  
  describe('when given invalid input', () => {
    it('should throw an error', () => {
      expect(() => functionName(null)).toThrow();
    });
  });
  
  describe('edge cases', () => {
    it('should handle empty string', () => {
      const result = functionName('');
      expect(result).toBe('');
    });
  });
});
```

## Quality Checklist

- [ ] All public functions tested
- [ ] Edge cases covered
- [ ] Error conditions tested
- [ ] Mocks used for external dependencies
- [ ] Tests are independent
- [ ] Clear, descriptive test names
- [ ] Follows project conventions
- [ ] Coverage target met

## Examples

Input: `generate-tests src/utils/string-helpers.js`

Output: Complete test file with comprehensive test cases for all functions in string-helpers.js
"""
